<!DOCTYPE html>
<html>
<head>
	<title>Edit Track</title>

	<!-- Latest compiled and minified CSS -->
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">

	<link rel="stylesheet" type="text/css" href="./assets/css/index.css">

	<!-- jQuery library -->
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>

	<!-- Latest compiled JavaScript -->
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>

	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
</head>
<body>
<h1>Edit Track</h1>

<div class="container">
		<form>
			<div class="form-group">
			<label>TrackId</label>
			<input id="id" type="text" name="id" class="form-control"/>
			</div>
			<div class="form-group">
			<label>Track Title</label>
			<input id="trackTitle" type="text" name="trackTitle" class="form-control">
			</div>

			<div class="form-group">
			<label>Artist</label>
			<input id="artist" type="text" name="artist" class="form-control">
			</div>

			<div class="form-group">
			<label>Track Source</label>
			<input id="trackSource" type="text" name="trackSource" class="form-control">
			</div>

			<button type="submit" class="btn btn-success">Save</button>
			<a href="index.html" class="btn btn-danger">Back</a>
		</form>
</div>
<script type="text/javascript">
		
		var form = document.getElementsByTagName("form")[0];

		var trackId = document.getElementById("id");

		var trackTitle = document.getElementById("trackTitle");

		var artist = document.getElementById("artist");

		var trackSource = document.getElementById("trackSource");

		form.addEventListener("submit",function(e){

			var track = {artist: artist.value, trackSource: trackSource.value,trackTitle: trackTitle.value};

			console.log(track);

			e.preventDefault();	

			$.ajax({
				url:"http://localhost:8080/MusicInformationSystem/track/"+trackId.value,
				method:"PUT",
				data:track,
				success:function(status){
						console.log(status);
				},		
				error:function(error,status){

					console.log(error.responseText);

					console.log(status);
				}	

			});

			console.log("Submited "+trackId.value);
		});
</script>
</body>
</html>